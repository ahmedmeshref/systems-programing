(self.webpackChunklite=self.webpackChunklite||[]).push([[8751],{34353:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var r=n(67294),o=n.n(r),i=n(79316),a=n(62630),l=n(27572),c=n(28309);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=o().createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const d=function(e){return o().createElement("svg",u({width:20,height:16,viewBox:"0 0 20 16"},e),s)};var m=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,o=e.buttonStyle,u=void 0===o?"STRONG":o,s=e.newsletterV3Id,m=e.showMailIcon,b=void 0===m||m,f=e.onClick,p=e.width,E=e.buttonText,h=void 0===E?"Get this newsletter":E,w=(0,l.Qi)(),g=(0,a.Av)(),v=(0,c.Iq)();return r.createElement(i.zx,{buttonStyle:u,onClick:function(){g.event("newsletterV3.subscribeClicked",{newsletterV3Id:s,source:w}),f()},size:n,width:p},b&&r.createElement("span",{className:v((function(){return{marginRight:"8px"}})),"aria-hidden":"true"},r.createElement(d,null)),h)}},31429:(e,t,n)=>{"use strict";n.d(t,{x:()=>L,B:()=>A});var r=n(63038),o=n.n(r),i=n(28655),a=n.n(i),l=n(71439),c=n(67294),u=n(70561),s=n(26839),d=n(34353),m=n(46829),b=n(62630),f=n(88914);function p(){var e=a()(["\n  mutation unsubscribeNewsletterV3($newsletterV3Id: ID!) {\n    unsubscribeNewsletterV3(newsletterV3Id: $newsletterV3Id)\n  }\n"]);return p=function(){return e},e}function E(){var e=a()(["\n  mutation subscribeNewsletterV3($newsletterV3Id: ID!, $shouldRecordConsent: Boolean) {\n    subscribeNewsletterV3(\n      newsletterV3Id: $newsletterV3Id\n      shouldRecordConsent: $shouldRecordConsent\n    )\n  }\n"]);return E=function(){return e},e}var h=(0,l.Ps)(E()),w=(0,l.Ps)(p()),g=n(9785),v=n(62181),S=n(79316),y=n(99919),x=n(80735),V=n(27572),C=n(51512),T=n(14391),I=n(51064),N=n(27952),R=n(534);function k(){var e=a()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    isSubscribed\n    type\n    user {\n      name\n    }\n    ...SusiClickable_newsletterV3\n    collection {\n      ...CollectionMetabar_collection\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return k=function(){return e},e}var O="newsletter_v3_promo",A=(0,l.Ps)(k(),s.JE,v.Os,v.GB,R.Gi),L=function(e){var t,n,r,i=e.newsletterV3,a=e.buttonLayout,l=void 0===a?"MULTI-LINE":a,s=e.helperTextColor,p=void 0===s?"LIGHTER":s,E=e.showHelperText,k=void 0===E||E,A=e.showMailIcon,L=void 0===A||A,P=e.buttonSize,_=void 0===P?"LARGE":P,B=e.buttonStyle,U=void 0===B?"STRONG":B,z=(0,g.YC)().value,M=i.id,$=i.collection?i.collection:void 0,j=i.user?i.user:void 0,D=(0,f.w)(),G=(0,u.v9)((function(e){return{referrerSource:e.navigation.referrerSource}}),u.wU).referrerSource,W=(0,u.v9)((function(e){return e.config.productName})),F=(0,I.O)(!1),Y=o()(F,3),H=Y[0],q=Y[1],Q=Y[2];switch(i.type){case T.Rr.NEWSLETTER_TYPE_COLLECTION:t=i.name,n="You’re signed up for ".concat(t,"."),r="Get this newsletter";break;case T.Rr.NEWSLETTER_TYPE_AUTHOR:t=null==j?void 0:j.name,n="You’re subscribed to ".concat(t),r="Subscribe"}var K=function(e,t,n){var r=c.useState(n),i=o()(r,2),a=i[0],l=i[1],u=c.useState(!1),s=o()(u,2),d=s[0],p=s[1],E=c.useState(!1),g=o()(E,2),v=g[0],S=g[1],y=(0,b.Av)(),x=(0,f.w)();d&&y.event("newsletterV3.subscribe.error",{newsletterV3Id:e}),v&&x({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_UNSUBSCRIBE",extraParams:{newsletterName:t}});var V=(0,m.useMutation)(h,{variables:{newsletterV3Id:e,shouldRecordConsent:!1},onCompleted:function(e){var t=e.subscribeNewsletterV3;p(!t),t&&l(!0)}}),C=o()(V,1)[0],T=(0,m.useMutation)(w,{variables:{newsletterV3Id:e},onCompleted:function(e){var t=e.unsubscribeNewsletterV3;p(!t),t&&(l(!1),S(!0))}}),I=o()(T,1)[0];return{isSubscribed:a,hasUserUnsubscribed:v,hasError:d,setSubscribe:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p(!1),S(!1),t?C({variables:{newsletterV3Id:e,shouldRecordConsent:n}}):I()},setHasUserUnsubscribed:S}}(i.id,t,i.isSubscribed),X=K.isSubscribed,Z=K.hasError,J=K.setSubscribe;c.useEffect((function(){if(G){var e=(0,C.P7)(G||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&X&&D({duration:"NEXTPAGE",message:"",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:null==i?void 0:i.name,unsubscribeFn:function(){return J(!1)}}})}}),[G]);var ee=function(e){var t=e.children;return c.createElement(S.xu,{margin:"COMPACT"===l?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},te=function(e){var t=e.children;return c.createElement(S.xu,{maxWidth:"COMPACT"===l?"380px":"",margin:"COMPACT"===l?"10px 0 10px 0":"10px 0 0 0"},c.createElement(x.F,{scale:"S",color:p,tag:"p"},t))},ne=function(){var e=(0,N.Zu)(M),n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];z&&J(!0,e)},o={buttonSize:_,buttonStyle:U,newsletterV3Id:i.id,onClick:z&&z.allowEmailAddressSharingEditorWriter?n:q,showMailIcon:L,buttonText:r};return c.createElement(ee,null,z?c.createElement(c.Fragment,null,c.createElement(d.w,o),c.createElement(S.QH,{onConfirm:function(){return n(!0)},isVisible:H,hide:Q,titleText:"Confirm your subscription to ".concat(t),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,titleTag:"h1",contentTag:"p",isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(W,". You can opt out of sharing your email address by unsubscribing in your Settings."))):c.createElement(v.R9,{operation:"register",newsletterV3:i,collection:$,actionUrl:e,susiEntry:O},c.createElement(d.w,o)))},re=function(){return c.createElement(V.cW,{source:{newsletterV3Id:i.id},extendSource:!0},c.createElement(ne,null),z?k&&c.createElement(te,null,"Emails will be sent to ",z.email,".",c.createElement(S.xu,null,c.createElement(v.R9,{operation:"login",newsletterV3:i,collection:$,susiEntry:O},c.createElement(S.rU,{onClick:function(){},linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))):c.createElement(te,null,"Create a free Medium account to get ",i.name," in your inbox."))},oe=function(){return c.createElement(c.Fragment,null,c.createElement(ee,null,c.createElement(S.zx,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return J(!1)}},"Unsubscribe")),k&&c.createElement(te,null,n))};return c.createElement(c.Fragment,null,c.createElement(S.Yi,null,(function(e){return c.createElement(S.f6,{theme:(0,R.jN)($,e)},X?c.createElement(oe,null):c.createElement(re,null))})),Z&&c.createElement(y.Z,{toastStyle:"RETRYABLE_ERROR",isVisible:Z,hide:function(){}}))}},55346:(e,t,n)=>{"use strict";n.d(t,{QL:()=>P,Lh:()=>B});var r=n(28655),o=n.n(r),i=n(59713),a=n.n(i),l=n(63038),c=n.n(l),u=n(46829),s=n(71439),d=n(67294),m=n(70561),b=n(34353),f=n(79316),p=n(28309),E={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},h=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},w=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,r=e.buttonStyle,o=void 0===r?"STRONG":r,i=(0,p.Iq)(),a=function(){var e=(0,p.om)({keyframesName:E}).keyframesName;return d.createElement("div",{className:i(h(e))})};return d.createElement("div",{style:{cursor:"wait"}},d.createElement(f.zx,{buttonStyle:o,onClick:function(){return null},size:n,width:"207px",disabled:!0},d.createElement((function(){return d.createElement(f.xu,null,d.createElement(f.xu,{display:"inline-block",float:"left",marginRight:"8px"},d.createElement(a,null)),d.createElement(f.xu,{float:"left"},"Loading.."))}),null)))},g=n(90738),v=n(14414),S=n(31285),y=n(22484),x=n(80735),V=n(27572),C=n(37581),T=n(49456),I=n(51299),N=n(27952),R=n(534);function k(){var e=o()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return k=function(){return e},e}function O(){var e=o()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return O=function(){return e},e}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,o=(0,p.Fg)(),i=(0,V.pK)(),a=(0,V.hp)(),l=(0,m.v9)((function(e){return{authDomain:e.config.authDomain,currentLocation:e.navigation.currentLocation,productName:e.config.productName}}),m.wU),s=l.authDomain,E=l.currentLocation,h=l.productName,k=d.useState(""),O=c()(k,2),A=O[0],P=O[1],B=d.useState(""),U=c()(B,2),z=U[0],M=U[1],$=d.useState(!1),j=c()($,2),D=j[0],G=j[1],W=d.useState(!1),F=c()(W,2),Y=F[0],H=F[1],q=d.useState(!1),Q=c()(q,2),K=Q[0],X=Q[1],Z=d.useState(!1),J=c()(Z,2),ee=J[0],te=J[1],ne=d.useState(""),re=c()(ne,2),oe=re[0],ie=re[1],ae="register",le=null==E.match("http[s]?://[^/]*".concat(s)),ce=r.collection,ue=r.id,se=r.slug,de=(0,N.Zu)(ue),me=ce?(0,N.iB)(se,s,ce):E;(0,u.useQuery)(S.qz,{fetchPolicy:"no-cache",skip:!de||le,onCompleted:function(e){var t=e.accountToken;return t&&ie((0,v.hQ)(me,i,a,de,t))}});var be=function(e){P(e),G(!0),setTimeout((function(){return G(!1)}),y.zn),H(!1),X(!1)},fe=function(){(0,T.J)(z)?(X(!0),H(!0)):be("Enter a valid email address.")},pe=function(){be("We couldn't process your request. Try again, or contact our support team.")},Ee=(0,u.useMutation)(_,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":M(z),te(!0);break;case"BadRequest":be("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:pe()}},onError:pe}),he=c()(Ee,1)[0],we={newsletterV3Id:ue,email:z,operation:ae,redirect:oe},ge=(0,I.U)();return d.createElement(f.f6,{theme:(0,R.jN)(ce,o)},d.createElement(f.xu,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},d.createElement(g.k,{callback:function(e){he({variables:L({captchaValue:e},we)})},shouldExecuteRecaptcha:Y}),d.createElement(f.xu,{display:ee?"none":"inline"},d.createElement(f.xu,{alignItems:"center",display:"flex",justifyContent:"space-between",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",height:"130px",paddingTop:"16px"},height:"56px"},d.createElement(f.xu,{marginTop:A&&"25px",sm:{marginTop:"0"}},d.createElement(y.II,{errorMessage:A,handleInputChange:function(e){M(e.target.value.trim())},handleSubmit:fe,input:z,inputType:y.n$.EMAIL,isAnimating:D,textAlign:"start",placeholder:"Your email",width:"".concat({xl:375,lg:375,md:325,sm:450,xs:200,"":200}[ge],"px")})),d.createElement(f.xu,{marginBottom:"auto",marginLeft:"15px",sm:{marginLeft:"0px",marginTop:"15px"}},K?d.createElement(w,{newsletterV3Id:ue}):d.createElement(C.$,{eventData:{operation:ae}},d.createElement(b.w,{newsletterV3Id:ue,onClick:fe})))),d.createElement(f.xu,{paddingTop:A&&"20px",marginTop:"10px",sm:{marginTop:"0"}},d.createElement(x.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",h," account if you don’t already have one. Review our"," ",d.createElement(f.rU,{href:(0,N.wo)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),d.createElement(f.xu,{display:ee?"inline":"none",marginBottom:"15px",marginTop:"5px"},d.createElement(x.F,{color:"DARKER",scale:"M"},d.createElement("b",null,"Check your inbox"),d.createElement("br",null),h," sent you an email at ",z," to complete your subscription."))))},_=(0,s.Ps)(O()),B=(0,s.Ps)(k(),R.Gi,N.nf)},51299:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(63038),o=n.n(r),i=n(67294),a=n(28309),l=n(36808),c=function(){var e=(0,a.Fg)(),t=i.useState("lg"),n=o()(t,2),r=n[0],c=n[1],u=function(){window.innerWidth>=e.breakpoints.xl?c("xl"):e.breakpoints.lg<=window.innerWidth&&window.innerWidth<e.breakpoints.xl?c("lg"):e.breakpoints.md<=window.innerWidth&&window.innerWidth<e.breakpoints.lg?c("md"):e.breakpoints.sm<=window.innerWidth&&window.innerWidth<e.breakpoints.md?c("sm"):c("xs")};return i.useEffect((function(){return u(),l.V6.on("resize",u),function(){return l.V6.off("resize",u)}}),[]),r}}}]);
//# sourceMappingURL=8751.41d7c840.chunk.js.map